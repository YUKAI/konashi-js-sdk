/*! konashi-bridge.js v1.0.1 2014-06-21 http://konashi.ux-xu.com/kjs */
!function(){{var a={PIN_CTRL:k.PIO0,PIN_FREQ:k.PIO1,PWM_PERIOD:1e4,MODE_ONOFF:0,MODE_PWM:1,FREQ_50HZ:50,FREQ_60HZ:60,mode:0,init:function(a,b){if(k.acdrive.mode=a,a==k.acdrive.MODE_ONOFF)k.pinMode(k.acdrive.PIN_CTRL,k.OUTPUT),k.pinMode(k.acdrive.PIN_FREQ,k.OUTPUT),k.acdrive.selectFreq(b);else{if(a!=k.acdrive.MODE_PWM)return k.KONASHI_FAILURE;k.pwmMode(k.acdrive.PIN_CTRL,k.KONASHI_PWM_ENABLE),k.pinMode(k.acdrive.PIN_FREQ,k.OUTPUT),k.pwmPeriod(k.acdrive.PIN_CTRL,k.acdrive.PWM_PERIOD),k.acdrive.selectFreq(b)}},on:function(){return 0==k.acdrive.mode?k.digitalWrite(k.acdrive.PIN_CTRL,k.HIGH):k.KONASHI_FAILURE},off:function(){return 0==k.acdrive.mode?k.digitalWrite(k.acdrive.PIN_CTRL,k.LOW):k.KONASHI_FAILURE},updateDuty:function(a){if(1==k.acdrive.mode){var b;return 0>a&&(a=0),a>100&&(a=100),b=Math.round(k.acdrive.PWM_PERIOD*a/100),k.pwmDuty(k.acdrive.PIN_CTRL,b)}return k.KONASHI_FAILURE},selectFreq:function(a){return a==k.acdrive.FREQ_50HZ?k.digitalWrite(k.acdrive.PIN_FREQ,k.LOW):a==k.acdrive.FREQ_60HZ?k.digitalWrite(k.acdrive.PIN_FREQ,k.HIGH):k.KONASHI_FAILURE}};window.k.acdrive}window.k.acdrive=a}();